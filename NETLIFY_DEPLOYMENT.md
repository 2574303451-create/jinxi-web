# ğŸš€ ä»Šå¤•å…¬ä¼š - Netlifyéƒ¨ç½²æŒ‡å—

## å¿«é€Ÿéƒ¨ç½²ï¼ˆæ¨èï¼‰

### 1. è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬

æˆ‘å·²ç»ä¸ºä½ å‡†å¤‡äº†å®Œæ•´çš„è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬ï¼Œä¸€é”®å®Œæˆæ‰€æœ‰æ­¥éª¤ï¼š

```bash
npm run deploy
```

è¿™ä¸ªå‘½ä»¤ä¼šï¼š
- âœ… æ£€æŸ¥é¡¹ç›®æ–‡ä»¶å®Œæ•´æ€§
- âœ… æ¸…ç†æ—§çš„æ„å»ºæ–‡ä»¶
- âœ… å®‰è£…æ‰€æœ‰ä¾èµ–
- âœ… æ„å»ºé¡¹ç›®
- âœ… éªŒè¯æ„å»ºç»“æœ
- âœ… éƒ¨ç½²åˆ°Netlify

### 2. é¢„è§ˆéƒ¨ç½²ï¼ˆæµ‹è¯•ç”¨ï¼‰

å¦‚æœæƒ³å…ˆé¢„è§ˆæ•ˆæœå†æ­£å¼å‘å¸ƒï¼š

```bash
npm run build
npm run deploy:preview
```

### 3. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

ç›´æ¥éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼š

```bash
npm run build
npm run deploy:prod
```

## æ‰‹åŠ¨éƒ¨ç½²æ­¥éª¤

å¦‚æœéœ€è¦æ‰‹åŠ¨æ§åˆ¶æ¯ä¸ªæ­¥éª¤ï¼š

### æ­¥éª¤1ï¼šå®‰è£…Netlify CLI

```bash
npm install -g netlify-cli
```

### æ­¥éª¤2ï¼šç™»å½•Netlify

```bash
netlify login
```

### æ­¥éª¤3ï¼šé“¾æ¥ç«™ç‚¹ï¼ˆé¦–æ¬¡éƒ¨ç½²ï¼‰

```bash
netlify link
```
æˆ–è€…åˆ›å»ºæ–°ç«™ç‚¹ï¼š
```bash
netlify init
```

### æ­¥éª¤4ï¼šæ„å»ºé¡¹ç›®

```bash
npm install
npm run build
```

### æ­¥éª¤5ï¼šéƒ¨ç½²

```bash
# é¢„è§ˆéƒ¨ç½²
netlify deploy --dir=out

# ç”Ÿäº§éƒ¨ç½²
netlify deploy --prod --dir=out
```

## ç¯å¢ƒå˜é‡é…ç½®

å¦‚æœä½ çš„é¡¹ç›®éœ€è¦ç¯å¢ƒå˜é‡ï¼Œåœ¨Netlifyæ§åˆ¶å°ä¸­æ·»åŠ ï¼š

### åœ¨Netlifyæ§åˆ¶å°è®¾ç½®ï¼š
1. è¿›å…¥ä½ çš„ç«™ç‚¹è®¾ç½®
2. é€‰æ‹© "Environment variables"
3. æ·»åŠ éœ€è¦çš„ç¯å¢ƒå˜é‡ï¼š

```bash
# æ•°æ®åº“é…ç½®ï¼ˆå¦‚æœä½¿ç”¨ï¼‰
NEON_DATABASE_URL=your_database_url
NEON_API_KEY=your_api_key

# å…¶ä»–é…ç½®
NODE_ENV=production
NEXT_PUBLIC_SITE_URL=your_domain
```

### æœ¬åœ°ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰ï¼š
åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```bash
# .env.local
NEON_DATABASE_URL=your_database_url
NEON_API_KEY=your_api_key
```

## é¡¹ç›®é…ç½®è¯´æ˜

### netlify.toml é…ç½®
```toml
[build]
  command = "npm install && npm run build"
  publish = "out"

[build.environment]
  NODE_VERSION = "20"
  NPM_VERSION = "10"
```

### Next.js é…ç½®
```js
// next.config.mjs
const nextConfig = {
  output: 'export',          // é™æ€å¯¼å‡º
  distDir: 'out',           // è¾“å‡ºç›®å½•
  trailingSlash: true,      // æ·»åŠ å°¾éƒ¨æ–œæ 
  images: {
    unoptimized: true       // ç¦ç”¨å›¾ç‰‡ä¼˜åŒ–ï¼ˆé™æ€ç«™ç‚¹ï¼‰
  }
}
```

## Netlify Functions

ä½ çš„é¡¹ç›®åŒ…å«ä»¥ä¸‹Netlifyå‡½æ•°ï¼š
- `checkin.js` - ç­¾åˆ°åŠŸèƒ½
- `messages.js` - æ¶ˆæ¯å¢™åŠŸèƒ½
- `strategies.js` - ç­–ç•¥å¢™åŠŸèƒ½
- `leaderboard.js` - æ’è¡Œæ¦œåŠŸèƒ½
- ä»¥åŠå…¶ä»–APIå‡½æ•°

è¿™äº›å‡½æ•°ä¼šè‡ªåŠ¨éƒ¨ç½²åˆ° `/.netlify/functions/` è·¯å¾„ã€‚

## éƒ¨ç½²åéªŒè¯

éƒ¨ç½²æˆåŠŸåï¼Œè®¿é—®ä½ çš„ç½‘ç«™å¹¶æµ‹è¯•ï¼š

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•
- [ ] é¡µé¢æ­£å¸¸åŠ è½½
- [ ] å½©è›‹ç³»ç»Ÿå·¥ä½œæ­£å¸¸
- [ ] ç­¾åˆ°åŠŸèƒ½æ­£å¸¸
- [ ] æ¶ˆæ¯å¢™åŠŸèƒ½æ­£å¸¸
- [ ] ç­–ç•¥å¢™åŠŸèƒ½æ­£å¸¸
- [ ] æ’è¡Œæ¦œæ˜¾ç¤ºæ­£å¸¸

### ğŸ¨ ç•Œé¢æµ‹è¯•
- [ ] å“åº”å¼è®¾è®¡æ­£å¸¸
- [ ] åŠ¨ç”»æ•ˆæœæ­£å¸¸
- [ ] ä¸»é¢˜åˆ‡æ¢æ­£å¸¸
- [ ] ä¾§è¾¹æ è¿›åº¦æ¡æ­£å¸¸

### ğŸ”§ APIæµ‹è¯•
- [ ] åç«¯å‡½æ•°æ­£å¸¸å“åº”
- [ ] æ•°æ®åº“è¿æ¥æ­£å¸¸
- [ ] æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½æ­£å¸¸

## å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜1ï¼šæ„å»ºå¤±è´¥
```bash
# æ¸…ç†ç¼“å­˜é‡æ–°æ„å»º
rm -rf .next out node_modules
npm install
npm run build
```

### é—®é¢˜2ï¼šå‡½æ•°éƒ¨ç½²å¤±è´¥
æ£€æŸ¥ `netlify/functions/` ä¸­çš„å‡½æ•°è¯­æ³•ï¼š
```bash
# æœ¬åœ°æµ‹è¯•å‡½æ•°
netlify dev
```

### é—®é¢˜3ï¼šç¯å¢ƒå˜é‡é—®é¢˜
ç¡®ä¿åœ¨Netlifyæ§åˆ¶å°ä¸­æ­£ç¡®è®¾ç½®äº†æ‰€æœ‰å¿…è¦çš„ç¯å¢ƒå˜é‡ã€‚

### é—®é¢˜4ï¼šåŸŸåé…ç½®
åœ¨Netlifyæ§åˆ¶å°çš„ "Domain management" ä¸­é…ç½®è‡ªå®šä¹‰åŸŸåã€‚

## æˆåŠŸéƒ¨ç½²å

ğŸ‰ **æ­å–œï¼ä½ çš„ä»Šå¤•å…¬ä¼šç½‘ç«™å·²ç»æˆåŠŸéƒ¨ç½²åˆ°Netlifyï¼**

### è·å–éƒ¨ç½²ä¿¡æ¯ï¼š
```bash
netlify status
```

### æŸ¥çœ‹éƒ¨ç½²å†å²ï¼š
```bash
netlify deploy --list
```

### æŸ¥çœ‹ç«™ç‚¹ä¿¡æ¯ï¼š
```bash
netlify sites:list
```

## æŒç»­éƒ¨ç½²è®¾ç½®

### Gité›†æˆéƒ¨ç½²
1. åœ¨Netlifyæ§åˆ¶å°è¿æ¥ä½ çš„GitHubä»“åº“
2. è®¾ç½®æ„å»ºé…ç½®ï¼š
   - **Build command**: `npm run build`
   - **Publish directory**: `out`
3. æ¯æ¬¡æ¨é€åˆ°mainåˆ†æ”¯æ—¶ä¼šè‡ªåŠ¨éƒ¨ç½²

### æœ¬åœ°å¼€å‘ç¯å¢ƒ
```bash
# å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨
npm run dev

# å¯åŠ¨Netlifyæœ¬åœ°å¼€å‘ç¯å¢ƒ
npm run dev:netlify
```

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœåœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. Netlifyæ„å»ºæ—¥å¿—
2. æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
3. é¡¹ç›®çš„linteré”™è¯¯

ç¥éƒ¨ç½²é¡ºåˆ©ï¼ğŸš€
