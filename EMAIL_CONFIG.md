# 邮箱发送功能配置说明

## 📧 功能概述

本项目集成了基于 original.txt 成功实现的邮箱发送功能，支持三种发送方式：

1. **EmailJS** - 主要发送方式
2. **FormSubmit** - 备选发送方式  
3. **本地邮箱客户端** - 兜底方案

## 🔧 配置信息

### EmailJS 配置
- **Public Key**: `u9DpmrVbWAUL3awLJ`
- **Service ID**: `service_galwwlw`
- **Template ID**: `template_dccwzlb`

### 目标邮箱
- **收件邮箱**: `leijia_13335319637@163.com`

## 🚀 功能特点

### 三重保障机制
1. **优先使用 EmailJS**: 快速、稳定的云端发送
2. **FormSubmit 备选**: 当 EmailJS 失败时自动切换
3. **本地邮箱兜底**: 所有云端方案失败时，调用本地邮箱客户端

### 用户体验优化
- **实时状态反馈**: 显示发送进度和结果
- **表单验证**: 必填字段检查
- **禁用重复提交**: 发送过程中按钮置灰
- **表单重置**: 成功发送后自动清空表单

### 错误处理
- **优雅降级**: 失败时自动尝试备选方案
- **用户友好提示**: 清晰的错误信息和操作指引
- **邮箱客户端备选**: 确保用户始终有发送途径

## 📝 表单字段

- **游戏昵称** (必填): 申请人的游戏ID
- **联系方式** (必填): QQ/微信/邮箱
- **常在线时段**: 选择活跃时间段
- **偏好定位**: 选择游戏角色偏好
- **留言**: 补充说明 (可选)

## 🔒 安全性

- **前端配置**: 公开配置信息不包含敏感数据
- **EmailJS 安全**: 使用 EmailJS 的安全模板系统
- **数据验证**: 前端输入验证和后端邮件模板过滤

## 🛠️ 技术实现

### 核心组件
- `components/email-service.tsx`: 邮箱发送服务
- `app/page.tsx`: 招新表单UI和逻辑集成

### 依赖项
- **EmailJS Browser SDK**: 动态加载，无需额外依赖
- **FormSubmit API**: 基于 fetch API，无需额外依赖
- **React Hooks**: useState 管理表单状态

### 兼容性
- ✅ 现代浏览器支持
- ✅ 移动端兼容
- ✅ 静态导出兼容 (Netlify)
- ✅ TypeScript 类型安全

## 📊 使用统计

成功发送的邮件将包含以下信息：
- 申请人基本信息
- 联系方式和偏好
- 浏览器用户代理 (用于技术支持)
- 发送时间戳

## 🔄 维护说明

### 配置更新
如需更新邮箱配置，修改 `components/email-service.tsx` 中的 `DEFAULT_CONFIG`。

### 模板更新  
如需修改邮件模板，登录 EmailJS 控制台更新模板内容。

### 测试验证
1. 填写测试表单
2. 检查目标邮箱是否收到邮件
3. 验证邮件内容格式是否正确
